<ng-template [ngIf]="game == null && !connectionError">
    <loading></loading>
</ng-template>
<ng-template [ngIf]="game == null && connectionError">
    <connection-error></connection-error>
</ng-template>
<div *ngIf="game != null" class="game-profile">

    <game [game]="game"></game>
    <div class="game__date">
        <small class="center grey-text">{{ formattedDate }}</small>
    </div>
    <game-flow [game]="game"></game-flow>

    <ng-template [ngIf]="playerId && !deletable">
        <div class="fixed-action-btn">
            <a class="btn-floating global__btn--comment green" (click)="onCommentClicked()" [attr.disabled]="online?null:true"><i class="material-icons">comment</i></a>
        </div>
    </ng-template>

    <game-points [game]="game"></game-points>

    <div *ngIf="deletable" class="fixed-action-btn">
        <a class="btn-floating btn light-blue lighten-2">
            <i class="material-icons">menu</i>
        </a>
        <ul class="game-profile__btn-menu">
            <li><a class="btn-floating global__btn--comment" (click)="onCommentClicked()"
                   style="transform: scaleY(0.4) scaleX(0.4) translateY(20px) translateX(0px); opacity: 0;"><i class="material-icons">comment</i></a>
            </li>
            <li (click)="onDeleteClicked()"><a class="btn-floating red"
                                               style="transform: scaleY(0.4) scaleX(0.4) translateY(20px) translateX(0px); opacity: 0;"><i
                    class="material-icons">delete</i></a></li>
        </ul>
    </div>

    <!-- Comment Modal Component -->
    <game-comment-modal
            (commentSubmitted)="onCommentDoneClicked($event)">
    </game-comment-modal>

    <!-- Delete Game Modal Component -->
    <game-delete-modal
            (deleteConfirmed)="onConfirmDeleteClicked()">
    </game-delete-modal>

    <!-- Continue Game Modal Component -->
    <game-continue-modal
            (continueConfirmed)="onConfirmContinueClicked()">
    </game-continue-modal>
</div>
